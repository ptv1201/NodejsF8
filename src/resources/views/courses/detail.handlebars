<h2>{{course.name}}</h2>

<iframe class="col-md-12" style="height: 650px;" src="https://www.youtube.com/embed/{{course.video}}"
    title="YouTube video player" frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>



<form action="/courses/save/{{course._id}}" method="POST">
    <!-- Toolbar -->
    <div class="toolbar">
        <button type="button" onclick="format('bold')"><b>B</b></button>
        <button type="button" onclick="format('italic')"><i>I</i></button>
        <button type="button" onclick="format('underline')"><u>U</u></button>
        <!-- Ch·ªçn m√†u ch·ªØ -->
        <label for="textColor">üé®</label>
        <input type="color" id="textColor" value="#000000" onclick="setTextColor(this.value)"
            oninput="setTextColor(this.value)">

        <!-- Ch·ªçn m√†u n·ªÅn -->
        <label for="bgColor">üñå</label>
        <input type="color" id="bgColor" value="#ffff00" onclick="setBgColor(this.value)"
            oninput="setBgColor(this.value)">
    </div>

    <!-- V√πng so·∫°n th·∫£o -->
    <div id="editor" class="editor" contenteditable="true">
        {{{course.note}}}
    </div>

    <!-- Hidden input ƒë·ªÉ g·ª≠i d·ªØ li·ªáu -->
    <input type="hidden" name="note" id="hiddenNote"> 

    <button type="submit">L∆∞u</button>
</form>

<script>
    let isTextColored = false;
    let isBgColored = false;
    function format(command) {
        document.execCommand(command, false, null);
    }
    function setTextColor(color) {
        if (!isTextColored) {
            document.execCommand("foreColor", false, color);
            isTextColored = true;
        } else {
            document.execCommand("removeFormat", false, null);
            isTextColored = false;
        }
    }
    function setBgColor(color) {
        if (!isBgColored) {
            document.execCommand("hiliteColor", false, color);
            isBgColored = true;
        } else {
            document.execCommand("removeFormat", false, null);
            isBgColored = false;
        }
    }
</script>
<script>
  const editor = document.getElementById("editor");
  const hidden = document.getElementById("hiddenNote");
  const form = document.querySelector("form");
  // ƒê·ªìng b·ªô m·ªói khi g√µ ch·ªØ
  editor.addEventListener("input", function () {
    hidden.value = editor.innerHTML.trim();
  });

  // ƒê·∫£m b·∫£o khi submit v·∫´n copy l·∫°i l·∫ßn cu·ªëi
  form.addEventListener("submit", function () {
    hidden.value = editor.innerHTML;
  });
</script>


{{!-- <form action="/courses/save/{{course._id}}" method="POST">
<textarea name="note">{{course.note}}</textarea>
<button type="submit">save</button>
</form> --}}